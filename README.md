# Java-OOP-HomeworkHelperBot
В данном проекте мы собираемся реализовать бота для уведомлений о домашних заданиях 

Основная суть:

1) регистрация в боте

2) уточнение расписания, при необходимости реализация механизма изменения расписания

3) реализация механизма добавления домашних заданий каждый день

4) отправление раписания на следующий день с добавленным домашним заданием (отправление в заданное время)

Реализовано:
	1. Команды:
		/about - вывод информации о боте
		/authors - вывод информации об авторах
		/help (/help /команда) - вывод всех команд с информацией о них (вывод информации о конкретной команде)
		/start - регистрация пользователя в системе
		/schedule - вывод полного расписания пользователей 
		/editShedule (MONDAY) - измнение (удаление/добавление) пар на конретный день (создание кастомного расписания)
		/addhw (название предмета) - добавление домашнего задания по предмету
		/printhw (/printhw MONDAY) - вывод домашнего задания (вывод домашнего задания на конкретный день)
		/markhw (/unmarkhw) - пометить домашнее задание как выполненное (не выполненное)
	2. База данных на основе SQLite для хранения пользователей 
	3. База данных на основе SQLite для хранения расписания пользователей
	4. База данных на основе SQLite для хранения кастомного расписания пользователей
	5. База данных на основе SQLite для хранения домашних заданий пользователя
	6. Таблица соответсвия (предмет - домашнее задание) в бд домашних заданий пользователя
	
Задачи:


1 Задача:
Цель: Сделать заготовку чат-бота для Telegram, которая умеет отвечать на несколько команд:
- /about — выводит краткую информацию про бота
- /authors — выводит информацию об авторах
- /help — выводит информацию обо всех доступных командах (можно запускать с аргументом: /help <command>.

Примечание 1: необходимо продумать механику, когда при появлении новой команды у бота, она автоматически появляется в выводе /help.


2 Задача:
Цель: реализовать процесс знакомства пользователя с ботом.

1. Добавить команду /start, которая:
  а) спрашивает имя;
  б) спрашивает группу (например, МЕН-241001);
  в) сохраняет эту информацию в памяти.
2. Создать класс User с полями:
   String name
   String group
   long chatId
3. Создать UserStorage, где по chatId хранится пользователь (БД на основе SQLite)
4. Реализовать диалоговую ветку: после /start бот должен понимать, на каком этапе находится пользователь (имя → группа → регистрация завершена).


3 Задача:
Цель: реализовать парсинг расписания пользователей.

1. метод для парсинга конечного json файла.
2. БД на основе SQLite для хранения расписания.
3. метод показывающий полное расписание у зарегистрированного пользователя.


4 Задача:
Цель: доработать уже реализованные методы и добавить БД.

1. доработать ветку диалога команды старт, принимая ещё департамент, институт и курс пользователя (соответственно добавить поля в класс user).
2. на той же реализации, что и бд schedule сделать бд для хранения кастомных расписаний.
3. расширить команду для вывода расписания, сделать возможным выводить расписание на конкретный день (/schedule Monday).
4. Добавить проверки на направильно введенный департамент/группу/институт в моменте регистрации пользователя. 
5. Добавить кастомную клавиатуру на всех этапах регистрации.


5 Задача:
Цель: реализовать возможность создания кастомных расписаний пользователя и создать бд для хранения домашних заданий.

1. БД на основе SQLite для хранения домашних заданий пользователя. 
2. Реализовать команду, которая позволяет изменить расписание на конкретный день (/editSchedule MONDAY).
3. При изменении расписания добавлять запись в бд кастомных расписаний.
4. Добавить класс Session для временного сохранения информации (когда пользователь меняет расписание).
5. Добавить команду, которая генирирует ссылку - приглашение для другого пользователя
6. Расширить /start для возможности регистрации по ссылке - приглашению (по ссылке подставляются все данные, кроме имени пользователя)


6 Задача:
Цель: дополнение пользовательских команд.

1. Реализовать команду для добавления домашних заданий (/addhw MONDAY).
1. Реализовать команду для вывода домашних заданий (/printhw)
2. Расширить команду для вывода домашних заданий, добавить возможность вывести домашние задания на конкретный день (/printhw MONDAY).
3. Реализовать возможность помечать задания как выполненные (/markhw, /unmarkhw)
4. Добавить в бд домашнего задания таблицу соответствия предмета и домашнего задания.

7 Задача:
Цель: реализовать механику ежедневной отправки сообщений пользователю

1.1 Настроить вечернюю отправку напоминаний о дз на следующий день (время отправки - 2 часа после окончания последней пары)
1.2 Отправлять так же домашние задания с кастомными дедлайнами (ситуация, когда предмета нет в расписание на следующий день, но дедлайн на него установлен)
2. Добавить кнопки на этапы добавления домашнего задания
4. Запустить бота на сервере 

Инструкция для развёртывания бота на облачном сервисе Cloud.ru:
Начальный этап:
1. Необходимо создать вашу виртуальную машину
2. Настроить сетевой интерфейс (создать сеть и подсеть, и к сети подключить sNat-шлюз)
3. Подключить к виртуальной машине ваш сетевой интерфейс
4. На самой виртуальной машине сделать первоначальные настройки для дальнейшей работы (поднять интерфейс, обновить пакеты, скачать: git, maven, java)
Для основной части работы все настройки выполнены

Основной этап:
1. В репо в разделе Actions создать пайплайн, который будент собирать .jar и загружать его в releases 
2. На виртуальной машине создать переменную окружения .env 
3. Создание и настройка systemd-сервиса для запуска java-приложения 
4. Настройка CD на сервере - создание скрпита для автоматического обновления
5. Создание и настройка автоматического планировщика обновлений
